import{K as R,L,M as m,N as Y,O as E,P as I,w as S,A as y,Q as B,R as U,S as F,x as $,T as C,U as K,V as H,W as Z,X as q,E as z,Y as O,Z as G,_ as Q,v as w,$ as V,a0 as W,a1 as X,g as p,k as D,a2 as j,a3 as J,a4 as k,a5 as ee,a6 as se,y as te,a7 as re,a8 as ae,b as ne,a9 as ie,aa as fe,ab as ue,f as ce,ac as oe,ad as le,ae as de,af as _e}from"./DYanNgDK.js";class he{anchor;#s=new Map;#t=new Map;#e=new Map;#r=new Set;#a=!0;constructor(e,r=!0){this.anchor=e,this.#a=r}#n=()=>{var e=R;if(this.#s.has(e)){var r=this.#s.get(e),t=this.#t.get(r);if(t)L(t),this.#r.delete(r);else{var n=this.#e.get(r);n&&(this.#t.set(r,n.effect),this.#e.delete(r),n.fragment.lastChild.remove(),this.anchor.before(n.fragment),t=n.effect)}for(const[a,f]of this.#s){if(this.#s.delete(a),a===e)break;const i=this.#e.get(f);i&&(m(i.effect),this.#e.delete(f))}for(const[a,f]of this.#t){if(a===r||this.#r.has(a))continue;const i=()=>{if(Array.from(this.#s.values()).includes(a)){var o=document.createDocumentFragment();B(f,o),o.append(E()),this.#e.set(a,{effect:f,fragment:o})}else m(f);this.#r.delete(a),this.#t.delete(a)};this.#a||!t?(this.#r.add(a),Y(f,i,!1)):i()}}};#i=e=>{this.#s.delete(e);const r=Array.from(this.#s.values());for(const[t,n]of this.#e)r.includes(t)||(m(n.effect),this.#e.delete(t))};ensure(e,r){var t=R,n=U();if(r&&!this.#t.has(e)&&!this.#e.has(e))if(n){var a=document.createDocumentFragment(),f=E();a.append(f),this.#e.set(e,{effect:I(()=>r(f)),fragment:a})}else this.#t.set(e,I(()=>r(this.anchor)));if(this.#s.set(t,e),n){for(const[i,u]of this.#t)i===e?t.unskip_effect(u):t.skip_effect(u);for(const[i,u]of this.#e)i===e?t.unskip_effect(u.effect):t.skip_effect(u.effect);t.oncommit(this.#n),t.ondiscard(this.#i)}else S&&(this.anchor=y),this.#n()}}function ge(s,e,r=!1){S&&$();var t=new he(s),n=r?C:0;function a(f,i){if(S){const l=K(s);var u;if(l===H?u=0:l===Z?u=!1:u=parseInt(l.substring(1)),f!==u){var o=q();z(o),t.anchor=o,O(!1),t.ensure(f,i),O(!0);return}}t.ensure(f,i)}F(()=>{var f=!1;e((i,u=0)=>{f=!0,a(u,i)}),f||a(!1,null)},n)}let b=!1,P=Symbol();function me(s,e,r){const t=r[e]??={store:null,source:V(void 0),unsubscribe:w};if(t.store!==s&&!(P in r))if(t.unsubscribe(),t.store=s??null,s==null)t.source.v=void 0,t.unsubscribe=w;else{var n=!0;t.unsubscribe=W(s,a=>{n?t.source.v=a:D(t.source,a)}),n=!1}return s&&P in r?X(s):p(t.source)}function Se(){const s={};function e(){G(()=>{for(var r in s)s[r].unsubscribe();Q(s,P,{enumerable:!1,value:!0})})}return[s,e]}function ve(s){var e=b;try{return b=!1,[s(),b]}finally{b=e}}const be={get(s,e){if(!s.exclude.includes(e))return s.props[e]},set(s,e){return!1},getOwnPropertyDescriptor(s,e){if(!s.exclude.includes(e)&&e in s.props)return{enumerable:!0,configurable:!0,value:s.props[e]}},has(s,e){return s.exclude.includes(e)?!1:e in s.props},ownKeys(s){return Reflect.ownKeys(s.props).filter(e=>!s.exclude.includes(e))}};function Pe(s,e,r){return new Proxy({props:s,exclude:e},be)}function Te(s,e,r,t){var n=!ie||(r&fe)!==0,a=(r&ae)!==0,f=(r&le)!==0,i=t,u=!0,o=()=>(u&&(u=!1,i=f?ne(t):t),i),l;if(a){var x=de in s||_e in s;l=j(s,e)?.set??(x&&e in s?c=>s[e]=c:void 0)}var _,T=!1;a?[_,T]=ve(()=>s[e]):_=s[e],_===void 0&&t!==void 0&&(_=o(),l&&(n&&J(),l(_)));var d;if(n?d=()=>{var c=s[e];return c===void 0?o():(u=!0,c)}:d=()=>{var c=s[e];return c!==void 0&&(i=void 0),c===void 0?i:c},n&&(r&k)===0)return d;if(l){var N=s.$$legacy;return(function(c,v){return arguments.length>0?((!n||!v||N||T)&&l(v?d():c),c):d()})}var g=!1,h=((r&ue)!==0?ce:oe)(()=>(g=!1,d()));a&&p(h);var M=te;return(function(c,v){if(arguments.length>0){const A=v?p(h):n&&a?ee(c):c;return D(h,A),g=!0,i!==void 0&&(i=A),c}return se&&g||(M.f&re)!==0?h.v:p(h)})}export{he as B,me as a,ge as i,Te as p,Pe as r,Se as s};
