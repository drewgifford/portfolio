import{L as T,M as D,N as S,O as L,P as A,Q as E,x as m,B as M,R as N,S as B,T as Y,y as F,U as y,V as U,W as C,X as z,Y as H,F as K,Z as I,_ as Z,a0 as $,a1 as q,i as g,a2 as G,n as Q,a3 as V,z as W,a4 as X,a5 as j,e as J,a6 as k,a7 as ee,a8 as te,k as se,a9 as re,aa as ae,ab as ie,ac as ne}from"./L7xEEb2f.js";class fe{anchor;#t=new Map;#s=new Map;#e=new Map;#r=new Set;#a=!0;constructor(e,r=!0){this.anchor=e,this.#a=r}#i=()=>{var e=T;if(this.#t.has(e)){var r=this.#t.get(e),s=this.#s.get(r);if(s)D(s),this.#r.delete(r);else{var f=this.#e.get(r);f&&(this.#s.set(r,f.effect),this.#e.delete(r),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),s=f.effect)}for(const[a,n]of this.#t){if(this.#t.delete(a),a===e)break;const i=this.#e.get(n);i&&(S(i.effect),this.#e.delete(n))}for(const[a,n]of this.#s){if(a===r||this.#r.has(a))continue;const i=()=>{if(Array.from(this.#t.values()).includes(a)){var o=document.createDocumentFragment();N(n,o),o.append(A()),this.#e.set(a,{effect:n,fragment:o})}else S(n);this.#r.delete(a),this.#s.delete(a)};this.#a||!s?(this.#r.add(a),L(n,i,!1)):i()}}};#n=e=>{this.#t.delete(e);const r=Array.from(this.#t.values());for(const[s,f]of this.#e)r.includes(s)||(S(f.effect),this.#e.delete(s))};ensure(e,r){var s=T,f=B();if(r&&!this.#s.has(e)&&!this.#e.has(e))if(f){var a=document.createDocumentFragment(),n=A();a.append(n),this.#e.set(e,{effect:E(()=>r(n)),fragment:a})}else this.#s.set(e,E(()=>r(this.anchor)));if(this.#t.set(s,e),f){for(const[i,c]of this.#s)i===e?s.unskip_effect(c):s.skip_effect(c);for(const[i,c]of this.#e)i===e?s.unskip_effect(c.effect):s.skip_effect(c.effect);s.oncommit(this.#i),s.ondiscard(this.#n)}else m&&(this.anchor=M),this.#i()}}function de(t,e,r=!1){m&&F();var s=new fe(t),f=r?y:0;function a(n,i){if(m){const d=U(t);var c;if(d===C?c=0:d===z?c=!1:c=parseInt(d.substring(1)),n!==c){var o=H();K(o),s.anchor=o,I(!1),s.ensure(n,i),I(!0);return}}s.ensure(n,i)}Y(()=>{var n=!1;e((i,c=0)=>{n=!0,a(c,i)}),n||a(!1,null)},f)}let p=!1;function ce(t){var e=p;try{return p=!1,[t(),p]}finally{p=e}}const ue={get(t,e){if(!t.exclude.includes(e))return t.props[e]},set(t,e){return!1},getOwnPropertyDescriptor(t,e){if(!t.exclude.includes(e)&&e in t.props)return{enumerable:!0,configurable:!0,value:t.props[e]}},has(t,e){return t.exclude.includes(e)?!1:e in t.props},ownKeys(t){return Reflect.ownKeys(t.props).filter(e=>!t.exclude.includes(e))}};function le(t,e,r){return new Proxy({props:t,exclude:e},ue)}function he(t,e,r,s){var f=!k||(r&ee)!==0,a=(r&j)!==0,n=(r&ae)!==0,i=s,c=!0,o=()=>(c&&(c=!1,i=n?J(s):s),i),d;if(a){var O=ie in t||ne in t;d=Z(t,e)?.set??(O&&e in t?u=>t[e]=u:void 0)}var h,P=!1;a?[h,P]=ce(()=>t[e]):h=t[e],h===void 0&&s!==void 0&&(h=o(),d&&(f&&$(),d(h)));var l;if(f?l=()=>{var u=t[e];return u===void 0?o():(c=!0,u)}:l=()=>{var u=t[e];return u!==void 0&&(i=void 0),u===void 0?i:u},f&&(r&q)===0)return l;if(d){var w=t.$$legacy;return(function(u,v){return arguments.length>0?((!f||!v||w||P)&&d(v?l():u),u):l()})}var b=!1,_=((r&te)!==0?se:re)(()=>(b=!1,l()));a&&g(_);var x=W;return(function(u,v){if(arguments.length>0){const R=v?g(_):f&&a?G(u):u;return Q(_,R),b=!0,i!==void 0&&(i=R),u}return V&&b||(x.f&X)!==0?_.v:g(_)})}export{fe as B,de as i,he as p,le as r};
